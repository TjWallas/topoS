#!/bin/bash
#
# sets $AFP which is required by the isabelle theoreis
#
# If you are on windows:
#  find Cygwin-Terminal.bat in your Isabelle folder
#  $ export AFP=~/path/to/topoS/isabelle_afp
#  $ isabelle jedit
#
# If you are on MacOS, I heared that the dirname command fails. Please report bugs!
# 

TOPOS_HOME="$(readlink -f "$(pwd)/$(dirname "$0")")"

echo "setting TOPOS_HOME to: $TOPOS_HOME"

cd "$TOPOS_HOME"

export AFP="${TOPOS_HOME}/isabelle_afp"

#isabelle 2013
#isabelle jedit -d "${TOPOS_HOME}/isabelle_afp" -l "Collections" &

# TODO: isabelle 2014
~/Downloads/Isabelle2014-RC0/bin/isabelle build -d isabelle_afp/ -b Collections
~/Downloads/Isabelle2014-RC0/bin/isabelle jedit -d isabelle_afp/ -l Collections

